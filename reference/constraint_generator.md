# Generate control values

Generate a list of control values, eg difference between final and
initial level for each week for the given area. Used to run simulations
in
[`runWaterValuesSimulation()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/runWaterValuesSimulation.md)
and also to estimate reward functions in functions such as
[`Grid_Matrix()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/Grid_Matrix.md)
and
[`get_Reward()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/get_Reward.md).

## Usage

``` r
constraint_generator(
  area,
  nb_disc_stock,
  pumping = TRUE,
  efficiency = NULL,
  opts,
  max_hydro_weekly = NULL,
  inflow = NULL,
  mcyears = NULL,
  reservoir_capacity = NULL
)
```

## Arguments

- area:

  Character. The Antares area concerned by water values computation.

- nb_disc_stock:

  Integer. Number of constraint values wanted for each week.

- pumping:

  Boolean. True to take into account the pumping capacity.

- efficiency:

  Double between 0 and 1. Pumping efficiency ratio. Get it with
  [`getPumpEfficiency()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/getPumpEfficiency.md).

- opts:

  List of study parameters returned by the function
  `antaresRead::setSimulationPath(simulation="input")` in input mode.

- max_hydro_weekly:

  Maximum weekly pumping and generating power generated by the function
  [`get_max_hydro()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/get_max_hydro.md)
  with `timeStep="weekly"`.

- inflow:

  Generated by
  [`get_inflow()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/get_inflow.md)

- mcyears:

  Vector of integer. Monte Carlo years used to compute water values.

- reservoir_capacity:

  Double. Reservoir capacity for the given area in MWh given by
  [`get_reservoir_capacity()`](https://rte-antares-rpackage.github.io/antaresWaterValues/reference/get_reservoir_capacity.md).

## Value

A
[`dplyr::tibble()`](https://tibble.tidyverse.org/reference/tibble.html)
with 3 columns : `"week"` (integer), `"u"` (double), `"sim"`
(character). For each week from 1 to 52, `nb_disc_stock` different
controls values are generated from maximum pumping power to maximum
generating power. The controls are equally spaced between maximum
pumping power (negative value) and 0 and between 0 and maximum
generating power (positive value). Controls values are stored in column
`"u"`. Column `"sim"` indexes control values in the form `"u_i"` with
`i` the index.

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Bellman values sequentially, one area at a time. — getBellmanValuesSequentialMultiStockWithPlaia • antaresWaterValues</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Bellman values sequentially, one area at a time. — getBellmanValuesSequentialMultiStockWithPlaia"><meta name="description" content="For each area, reward functions are first computed using
calculateRewardsSimulationsWithPlaia(). Bellman values are then
computed with Grid_Matrix(), and an optimal trajectory for the area
is derived using getOptimalTrend().
The resulting trajectory is subsequently used to compute reward functions
for the next area in the sequence.
For areas where Bellman values have not yet been computed, either
initial_traj or a short-term trajectory is used as a fallback."><meta property="og:description" content="For each area, reward functions are first computed using
calculateRewardsSimulationsWithPlaia(). Bellman values are then
computed with Grid_Matrix(), and an optimal trajectory for the area
is derived using getOptimalTrend().
The resulting trajectory is subsequently used to compute reward functions
for the next area in the sequence.
For areas where Bellman values have not yet been computed, either
initial_traj or a short-term trajectory is used as a fallback."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">antaresWaterValues</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/computation_watervalues.html">Watervalues computation</a></li>
    <li><a class="dropdown-item" href="../articles/grid_Matrix-parameters.html">Grid_Matrix parameters</a></li>
    <li><a class="dropdown-item" href="../articles/Reward-interpolation.html">Reward interpolation method</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rte-antares-rpackage/antaresWaterValues/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate Bellman values sequentially, one area at a time.</h1>
      <small class="dont-index">Source: <a href="https://github.com/rte-antares-rpackage/antaresWaterValues/blob/main/R/multistock_sequential_plaia.R" class="external-link"><code>R/multistock_sequential_plaia.R</code></a></small>
      <div class="d-none name"><code>getBellmanValuesSequentialMultiStockWithPlaia.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>For each area, reward functions are first computed using
<code><a href="calculateRewardsSimulationsWithPlaia.html">calculateRewardsSimulationsWithPlaia()</a></code>. Bellman values are then
computed with <code><a href="Grid_Matrix.html">Grid_Matrix()</a></code>, and an optimal trajectory for the area
is derived using <code><a href="getOptimalTrend.html">getOptimalTrend()</a></code>.
The resulting trajectory is subsequently used to compute reward functions
for the next area in the sequence.
For areas where Bellman values have not yet been computed, either
<code>initial_traj</code> or a short-term trajectory is used as a fallback.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">getBellmanValuesSequentialMultiStockWithPlaia</span><span class="op">(</span></span>
<span>  <span class="va">list_areas</span>,</span>
<span>  <span class="va">opts</span>,</span>
<span>  <span class="va">nb_simulations</span>,</span>
<span>  <span class="va">mcyears</span>,</span>
<span>  <span class="va">penalty_low</span>,</span>
<span>  <span class="va">penalty_high</span>,</span>
<span>  states_step_ratio <span class="op">=</span> <span class="fl">1</span><span class="op">/</span><span class="fl">50</span>,</span>
<span>  cvar_value <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  penalty_final_level <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  initial_traj <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  list_areas_to_compute <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-list-areas">list_areas<a class="anchor" aria-label="anchor" href="#arg-list-areas"></a></dt>
<dd><p>Vector of areas concerned by simulations.</p></dd>


<dt id="arg-opts">opts<a class="anchor" aria-label="anchor" href="#arg-opts"></a></dt>
<dd><p>List of study parameters returned by the function <code>antaresRead::setSimulationPath(simulation="input")</code> in input mode.</p></dd>


<dt id="arg-nb-simulations">nb_simulations<a class="anchor" aria-label="anchor" href="#arg-nb-simulations"></a></dt>
<dd><p>Number of controls to simulate</p></dd>


<dt id="arg-mcyears">mcyears<a class="anchor" aria-label="anchor" href="#arg-mcyears"></a></dt>
<dd><p>Vector of integer. Monte Carlo years used to compute water values.</p></dd>


<dt id="arg-penalty-low">penalty_low<a class="anchor" aria-label="anchor" href="#arg-penalty-low"></a></dt>
<dd><p>Double. Penalty for violating the bottom rule curve, comparable to the unsupplied energy cost.</p></dd>


<dt id="arg-penalty-high">penalty_high<a class="anchor" aria-label="anchor" href="#arg-penalty-high"></a></dt>
<dd><p>Double. Penalty for violating the top rule curve, comparable to the spilled energy cost.</p></dd>


<dt id="arg-states-step-ratio">states_step_ratio<a class="anchor" aria-label="anchor" href="#arg-states-step-ratio"></a></dt>
<dd><p>Double. Discretization ratio to generate steps levels
between the reservoir capacity and zero for which Bellman values are computed.</p></dd>


<dt id="arg-cvar-value">cvar_value<a class="anchor" aria-label="anchor" href="#arg-cvar-value"></a></dt>
<dd><p>Double from 0 to 1. The probability used in cvar method.</p></dd>


<dt id="arg-penalty-final-level">penalty_final_level<a class="anchor" aria-label="anchor" href="#arg-penalty-final-level"></a></dt>
<dd><p>Penalties (for both bottom and top rule curves) to force final level</p></dd>


<dt id="arg-initial-traj">initial_traj<a class="anchor" aria-label="anchor" href="#arg-initial-traj"></a></dt>
<dd><p>Initial trajectory (used for other storages)</p></dd>


<dt id="arg-list-areas-to-compute">list_areas_to_compute<a class="anchor" aria-label="anchor" href="#arg-list-areas-to-compute"></a></dt>
<dd><p>Vector of character. Areas for which to compute Bellman values. If <code>NULL</code>, all areas in <code>list_areas</code> are used.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>List containing aggregated water values, reward functions and optimal trajectories.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Dhia Gharsallaoui, Juliette Gerbaux.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

